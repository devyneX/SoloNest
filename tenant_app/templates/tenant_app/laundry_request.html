{% extends 'form_base.html' %}

{% block title %}Request Laundry Service{% endblock %}

{% block content %}
    <div class='flex items-center justify-center text-white'>
        <div class='bg-gray-800 shadow-md rounded-xl mb-10 mt-10 w-11/12 sm:w-4/5 md:w-4/6 lg:w-2/5'>
            <div class='flex flex-col items-center justify-center px-4 py-20 sm:px-6 md:px-10'>
                <h1 class="px-4 text-3xl font-normal text-white py-8">{% block form_title %}Laundry Request{% endblock %}</h1>
                <form method="POST" class="flex flex-col justify-center gap-4 lg:w-11/12 md:w-4/6 sm:w-5/6 w-11/12">
                    {% csrf_token %}
                    {{ form.non_field_errors }}
                    {{ form.date.label }}
                    {{ form.date }}
                    <div>
                        {% for item, color in form.get_item_fields %}
                        {{ item.label }}
                        {{ item }}
                        {{ color.label }}
                        {{ color }}
                        <script>
                            $('.item-list-new').on('input', function() {
                                let $this = $(this)
                                let $clone = $this.clone()
                                let $color = $this.parent().children()[3]
                                let name = $clone.children()[1].attr('name')
                                let n = parseInt(name.split('_')[1]) + 1
                                $clone.val('')
                                $clone.attr('name', "item_" + n)
                                $color.val('')
                                $color.attr('name', "color_" + n)
                                $clone.appendTo($this.parent())
                                $color.appendTo($this.parent())
                                $this.removeClass('item-list-new')
                                $this.off('input', arguments.callee)
                                $clone.on('input', arguments.callee)
                            })
                        </script>
                        {% endfor %}
                        
                    </div>
                    
                    
                    <div class="mt-5 flex flex-col gap-2">
                        <button type="submit">Submit</button>
                    </div>
                </form> 
        
            
            </div>
        </div>
    </div>
{% endblock %}



